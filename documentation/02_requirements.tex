\chapter{User Requirements}
The user requirements presented by the client can be categorized into general, patient side, and healthcare provider side requirements.

\section{General}
\begin{itemize}
\item A patient or healthcare provider should be able to create, delete, and modify their respective account
\item Accounts should be protected by a username and password combination
\item Depending on the type of user account, each user will have a unique user profile within the system
\item Depending on the type of user account, one of three social networking connection options are available. When requesting a social network connection, proper confirmation is required.  Upon forming a social network connection, the patient and provider will be listed in each other's respective list of contacts.
\item Accounts can be private or public. Currently, the feature is only implemented to affect the patients privacy. If private, the account will not be in the public listing of accounts. A \emph{Salute} member cannot request a connection with a private account. Private accounts only allow outgoing connection requests. Private accounts are still listed in the members listings of groups they are members of. 
\end{itemize} 

\section{Connections}
A Salute member can make a social network connection with other Salute members. There are three types of connections: patient-to-HCP, HCP-to-HCP, and patient-to-patient. 

\subsection{Connection Level}
Every connection has a level associated with it, that describes the level of trust between the two parties. For the time being, this level is only used to describe patient-to-patient and patient-to-HCP connections and can only be changed by the patient.

In a patient-to-HCP connection, a patient can:
\begin{itemize}
\item Decide to grant access to all its current and future medical records to a specific HCP, automatically
\item Decide to auto-accept referrals received by a specific HCP
\item Decide to give both of the previous permissions to a specific HCP
\item Decide to remove both of the previous permissions to a specific HCP
\end{itemize}

In a patient-to-patient connection, both patients can:
\begin{itemize}
\item Decide to share all their current and future medical records, automatically
\item Decide to share medical records manually only 
\end{itemize}

\subsection{Patient-Doctor Connections}
This type of connection can only be requested by a patient and represents the ``patient-doctor'' relationship.  When this connection is formed, it allows the provider access to the patient's medical records and indicates a level of trust between the patient and healthcare provider.
\begin{itemize}
\item A patient can request a connection with a healthcare provider. 
\item A healthcare provider cannot request to connect to a patient. 
%\item Upon request, the patient can specify which level of trust he/she would like to establish with the healthcare provider. There are two levels: standard, high. The standard level of trust gives by default permissions to none of the patient's medical records, and referrals to other doctors must be accepted by the patient. The high level of trust gives by default permissions to all of the patient's medical records and automatically accepts healthcare provider connections by referral. (See Referral's Section). 
\item Under each user's account, the list of their current contacts will be readily available and linked to their respective profile pages.
\item Medical records may be uploaded by the healthcare provider to their patient's account. 
\item Medical records may be uploaded by the patient to their account.
\item A patient may set permissions to hide or allow all or individual medical records from their connected HCP. 
\item A HCP can refer their connected patient to another HCP. (See Section on Referrals)
\end{itemize} 

\subsection{Doctor-Doctor Connections}
This relationship only exists between healthcare providers and represents the providers network of healthcare professionals.
\begin{itemize}
\item A HCP can request a connection with another HCP. 
\item A HCP may refer their patients to their connected HCP collegues. 
\end{itemize} 

\subsection{Patient-Patient Connections}
This relationship allows patients to share resources with other patients. It can be used, for example, to establish ``family'' connections.
\begin{itemize}
\item A patient can request a connection with another patient. 
%\item Upon request, the patient can specify which level of trust he/she would like to establish with the patient. There are two levels: standard, high. The standard level of trust gives by default permissions to none of the patient's medical records. The high level of trust gives by default permissions to all of the patient's medical records. 
\item A patient can suggest their healthcare provider's to their connected peers (patients).
\end{itemize} 

\section{Referrals}
A referral may be done by a healthcare provider or a patient.

\begin{itemize}
\item (Referral by Healthcare Provider) Referrals allow healthcare providers to refer their patients to connect with another healthcare provider that he/she is connected with. If the patient has a high (connection) level of trust with the HCP, when the HCP refers the patient to his/her collegue (connected HCP), the patient will automatically send a connection request to the refered HCP. If the (connection) level of trust is standard between the patient and HCP, the patient must accept the pending referred connection. The permissions of the patient's medical records that the referred HCP has, will mirror the original HCP's permissions.
\end{itemize}

\section{Groups}
\begin{itemize}
\item A group may be created, modified, or deleted by patients or healthcare providers.
\item A group may be a public or private group. 
\item (Public Group)Only public groups will be visible in the 'Groups Listing' on \emph{Salute}. From the 'Group Listing', a Salute member can request to join the group.
\item (Private Groups) The private group will be listed under 'My Groups', for all \emph{Salute} members that are already in the private group.The only way for a Salute member to join a private group is by invitation. The invitation may only be sent from a member of the group.
\item There are three group categories: patient-patient, healthcare provider-healthcare provider, patient-healthcare provider. An HCP may not join a patient-patient group. A patient may not join a hcp-hcp group. 
\item Each group member can have one of 4 different permissions: (1) request connections to other members in the group, (2) request connections to other members in the group and invite their connections to the group, (3) request connections to other members in the group and invite their connections to the group, modify members' permission levels, and delete existing group members from the group, (4) request connections to other members in the group and invite their connections to the group,  modify members' permission levels, delete existing group members from the group, and modify or delete the group.
\item By default, the creator of the group gets the 4th type of permission(see above bullet point). 
\end{itemize} 

\section{Patient Accounts}
\begin{itemize}
\item Patient accounts are exclusively for the use of patients
\item Patient information is only available to HCPs to which the patient is connected with, and to patients/peers to which the patient is connected with.
\item May add, organize, and delete their medical records
\item May manage their privacy settings for connections and medical records
\item May connect, message, and interact with their connected Salute members
\item May pay their bills 
\item May refer their connnected patients/peers to their connected healthcare provider collegue.
\item May create, join, modify, or delete a group. (See Group Section)
\end{itemize}

\section{Healthcare Accounts}
\begin{itemize}
\item Healthcare provider accounts are exclusively for the use of healthcare providers
\item A healthcare provider account may connect with either patient accounts or other healthcare provider accounts (specialists or colleagues)
\item May view a listing of all their patient contacts
\item May view the available medical records of an individual patient
\item May schedule appointments
\item May view a listing of their appointments
\item May message, interact and connect with patients and other healthcare providers
\item May issue, modify, or delete bills to their patients
\item May add medical records to their patient's account. By default they will have viewing priveleges of this file.
\item May refer their patients to their connected healthcare provider collegue.
\item May create, join, and manage a group. (See Group Section)
\end{itemize}



\chapter{System Requirements}
We distinguish between client, server and developer requirements.

\section{Client Requirements}
\begin{itemize}
\item The user will interact with the server through a web browser. Any existing web browser would work, since we use libraries and tools that make our website ``cross-browsers''. We even tested our website with the terminal browser \emph{Elinks}, that obviously does not have Javascript and Ajax, and everything worked fine. The only special requirements are as follows.
\item The browser must be able to handle communication with the webserver using https (secure http)
\item The browser must be able to execute Javascript code if the user wants to see graphical effects and perform Ajax requests. It's presence is not mandatory.
\end{itemize}

\section{Server Requirements}
\begin{itemize}
\item The server will be web-based, using an appropriately selected web server to handle communication requests.
\item The server will only communicate with the client interface over https.  All other connections will be automatically switched to https.
\item The server will maintain a list of contacts for each user
\item The server must be able to receive copies of the patients medical records
\item All necessary system data will be stored in an appropriately selected and designed database, capable of interacting with the server.
\item The user interface must be able to upload files to the server
\end{itemize}

\section{Developer Requirements}
As for now, a developer that would like to join us should have \emph{git}, to clone our repository. He/she should set up a local, working Apache server (any other server would also work, but we prefer to use all the same one), with Php, ModRewrite and ModSsl.



\chapter{Current Status and Future Work}

\subsubsection{Messaging}
Current: 
\begin{itemize}
\item Uses users' existing email addresses, and emails via the website. 
\end{itemize}
Future: 
\begin{itemize}
\item in-site messaging with inbox, sent, drafts, and compose. (Note: We have already implemented the messages table in the database)
\item add attach file capability
\end{itemize}

\subsubsection{Medical Records}
Current: 
\begin{itemize}
\item Upload medical record
\item Download medical record
\item Delete Medical record
\item View all healthcare providers that are allowed to view a medical record
\item Allow and remove permission for a healthcare provider to view the medical record
\end{itemize}
Future:
\begin{itemize}
\item view medical record in the browser currently 
\end{itemize}

\subsubsection{Appointments}
Current: 
\begin{itemize}
\item Patient can schedule, reschedule, and cancel an appointment
\item Healthcare provider can approve and cancel an appointment
\item Does not check for conflicting times 
\item You cannot schedule an appointment after ~2038-01-18 21:30:00 because of the max time in our 32-bit operating system. 
\end{itemize}
Future: 
\begin{itemize}
\item Check for conflicting appointment times from both the patient and the HCP's side. 
\end{itemize}

\subsubsection{Bills}
Current:
\begin{itemize}
\item Issue a bill (healthcare provider)
\item Delete a bill (A healthcare provider can delete a bill at any time. A patient can only delete inactive bills)
\item Button to pay a bill (no link to credit card/bank system)
\end{itemize}
Future:
\begin{itemize}
\item Add paid date
\item Email reminder before payment is due to patient
\item Email reminder when past due to patient and healthcare provider
\item Connect payment to a credit-card/bank system.
\item Add insurance companies
\item pdf receipts of bills
\item link with insurance codes
\end{itemize}

\subsubsection{Aesthetics}
Current:
\begin{itemize}
\item Standardized error messages
\item Ajax and history working
\item Location bar on every page
\item Brand and logo added
\end{itemize}
Future: 
\begin{itemize}
\item Improve graphics
\item Change brand and logo (:D)
\item Put server in the cloud
\item Jquery form input checks
\item Add 'About Us' , 'FAQ', 'Contact Us' pages
\item Complete Sitemap 
\end{itemize}

\subsubsection{Security}
Current:
\begin{itemize}
\item https
\item checks for session cookies
\end{itemize}
Future: 
\begin{itemize}
\item validate user input in forms (e.g. set max/min sizes for password)
\item validate existence of email (via hashcode sent to the email address to validate new accounts)
\item validate that Social Security Number
\item allow for full delete of an account
\item get a real SSL certificate from the CA (Certification Authority)
\item add either captcha or other features to force human submissions of forms
\item HCP registration needs verification that the HCP really is a HCP at the organization they claim, and with the specialty they claim. 
\end{itemize}

\subsubsection{Advanced Search Function}
Current:
\begin{itemize}
\item Gives a listing of all doctors registered with Salute.
\item Gives a listing of all patients registered with Salute.
\end{itemize}
Future: 
\begin{itemize}
\item Search by individual doctors 
\item Search by patients
\item Search by medical records 
\item Search by messages
\item Search by appointments
\item Search by bill
\item Search groups
\item Sort by: connection status, specialty, date added, etc.
\end{itemize}

\subsubsection{Graph and Test Results}
Future: 
\begin{itemize}
\item Allow for uploading graphs and test results
\item Create a graphing system that logs progress of different health-related characteristics(blood pressure, sodium, cholesterol, etc...)
\end{itemize}

\subsubsection{Tests / Software qualities verification}
Current:
\begin{itemize}
\item Created a set of more strict and systematic tests in order to verify all the software qualities and requirements
\item Use tools like ``curl'', to make automated tests
\end{itemize}
Future:
\begin{itemize}
\item Add more test cases
\item Make use of some analysis techniques
\end{itemize}

\subsubsection{Other Additional Features}
Future:
\begin{itemize}
\item Allow HCP's to post their certificates/diplomas/awards/etc to their profile
\item Implement a ''Family History'' section, which lists diseases/problems that run in a patient's family. 
\end{itemize}

\subsubsection{Documentation}
Future:
\begin{itemize}
\item Beyond the famous MVC, create a description of the entire system which comprises server-client interaction, libraries, helpers. Describe all of that in terms of modules.
\item Add a credit section (thanks to all the free code and tools that we used)
\end{itemize}
