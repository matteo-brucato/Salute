\documentclass[12pt]{report}

\title{SALUTE \\ WEB-BASED MEDICAL MANAGEMENT \\ MILESTONE 0}
\author{Matteo \\ Musa \\ Nada \\ Aswhwin}

\begin{document}
\maketitle
\tableofcontents


\chapter{Introduction}
Bla bla bla...
\section{Overview}
Bla bla bla..
\section{Tools and Technology}
What tools and technology we used..


\chapter{Requirements}
\section{User Requirements}
\section{System Requirements}
\section{Current Status and Future Work}


\chapter{Design}
\section{High Level View}
\subsection{Database Design}
\subsubsection{PostgreSQL}
Salute uses PostgreSQL 8.4 as its database management software.

\subsubsection{Entity Relationship Diagram (ERD)}
try to place the ER here

\subsubsection{Entities and Attributes}
Entities are represented in the ER diagram as rectangles.  Each entity represents a table in the database that holds all of the information or attributes that represents that entity.  In the ER diagram, each attribute is represented with a oval.

\subsubsection{Messages}
Holds all of the information regarding messages sent from patient to hcp or vice versa. It has two total 1:N relationships with the Accounts entity.\\
\paragraph{Attribrutes}
\begin{itemize}
\item SERIAL message\_id- ID to uniquely identify the message from other messages. SERIAL datatype automatically creates the message\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.
\item TEXT subject- Subject of the message being sent. TEXT datatype allows unlimited number of characters.  Cannot be NULL.
\item TEXT content- Where the sender can writte what they would like to send to the receiver.  TEXT datatype allows unlimited number of characters.  Cannot be NULL.
\item SERIAL message\_id- ID to uniquely identify the message from other messages. SERIAL datatype automatically creates the message\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.
\item TIMESTAMP date\_time- Date and time of when the message is sent.  TIMESTAMP datatype format YY:MM:DD HH:MM:SS.  Cannot be NULL.
\item BOOLEAN sender\_kept- To determine if the sender would like to delete the message from their outbox.  BOOLEAN value is either TRUE or FALSE.  Cannot be NULL.  By default it is TRUE.  Changing the status to FALSE means it gets deleted.


\end{itemize}









BOOLEAN receiver\_kept- To determine if the receiver would like to delete the message from their inbox.  BOOLEAN value is either TRUE or FALSE.  Cannot be NULL.  By default it is TRUE.  Changing the status to FALSE means it gets deleted.\\ \\

\subsubsection{Accounts}
Holds all of the primary information every patient and hcp account needs to log into Salute.  The entities Patient\_Account and HCP\_Account both inherit from Accounts using an IS A relationship.  It has a partial N:1 relationship with the Permission and Medical\_Records entities.\\ \\

Attributes:\\
SERIAL account\_id- ID to uniquely identify the account from other accounts. SERIAL datatype automatically creates the account\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.\\

VARCHAR(40) email- Email of the account holder. It is used to log into Salute along with the user password.  VARCHAR(40) datatype allows for a maximum of 40 characters.  Cannot be NULL.\\

VARCHAR(15) password-  Password of the account holder.  It is used to log into Salute along with the user email address.  VARCHAR(15) datatype allows for a maximum of 15 characters.  Cannot be NULL.\\

BOOLEAN active- To determine wheather the account is active or not.  BOOLEAN datatype value is either TRUE or FALSE.  By default it is TRUE.  Changing the stauts to FALSE means the account gets deactivated.\\  \\

\subsubsection{Patient\_Account}
Holds all of the personal information for every patient.  It inherits from the Accounts entity with an IS A relationship.  It has a partial N:1 relationship with the Medical\_Records entity and a partial N:M relationship with the p\_d\_connection relationship.\\ \\

Attributes:\\
SERIAL account\_id- ID to uniquely identify the account from other accounts. SERIAL datatype automatically creates the account\_id when a new tuple is inserted into the table.  This ID is inherited from the Accounts entity. Primary key of the table.  Cannot be NULL.\\

VARCHAR(30) first\_name-  First name of the patient.  VARCHAR(30) datatype allows for a maximum of 30 characters.  Cannot be NULL.\\

VARCHAR(30) last\_name- Last name of the patient.  VARCHAR(30) datatype allows for a maximum of 30 characters.  Cannot be NULL.\\ 

VARCHAR(30) middle\_name- Middle name of the patient. VARCHAR(30) datatype allows for a maximum of 30 characters.\\

NUMERIC(9,0) ssn- Social Security Number of the patient. NUMERIC(9,0) datatype allows exactly 9 numeric characters.  Cannot be NULL.\\

DATE dob- Date of Birth of the patient.  DATE datatype is of the format YY:MM:DD.  Cannot be NULL.\\

CHAR(6) sex- Sex of the patient. CHAR(6) datatyep allows for a maximum of 6 characters.  It has to be either "male" or "female".  Cannot be NULL.\\

VARCHAR(11) tel\_number- Primary telephone number of the patient.  VARCHAR(11) datatype allows a maximum of 11 characters.\\

VARCHAR(11) fax\_number- Fax number of the patient.  VARCHAR(11) datatype allows a maximum of 11 characteres.\\

TEXT address- Primary address of the patient.  TEXT datatype allows unlimited number of characters.\\ \\

\subsubsection{HCP\_Account}
Holds all of the personal information for every hcp.  It inherits from the Accounts entity with an IS A relationship.  It has a partial N:1 relationship with the Appointments and Payment entities, as well as a partial N:M relationship with the p\_d\_connection and d\_d\_connection relationship.\\ \\

Attributes:\\
SERIAL account\_id- ID to uniquely identify the account from other accounts. SERIAL datatype automatically creates the account\_id when a new tuple is inserted into the table.  This ID is inherited from the Accounts entity. Primary key of the table.  Cannot be NULL.\\

VARCHAR(30) first\_name-  First name of the hcp.  VARCHAR(30) datatype allows for a maximum of 30 characters.  Cannot be NULL.\\

VARCHAR(30) last\_name- Last name of the hcp.  VARCHAR(30) datatype allows for a maximum of 30 characters.  Cannot be NULL.\\ 

VARCHAR(30) middle\_name- Middle name of the hcp. VARCHAR(30) datatype allows for a maximum of 30 characters.\\

NUMERIC(9,0) ssn- Social Security Number of the hcp. NUMERIC(9,0) datatype allows exactly 9 numeric characters.  Cannot be NULL.\\

DATE dob- Date of Birth of the hcp.  DATE datatype is of the format YY:MM:DD.  Cannot be NULL.\\

CHAR(6) sex- Sex of the hcp. CHAR(6) datatyep allows for a maximum of 6 characters.  It has to be either "male" or "female".  Cannot be NULL.\\

VARCHAR(11) tel\_number- Primary office telephone number of the hcp.  VARCHAR(11) datatype allows a maximum of 11 characters.\\

VARCHAR(11) fax\_number- Primary fax number of the hcp.  VARCHAR(11) datatype allows a maximum of 11 characteres.\\

TEXT specialization- What the hcp specializes in.  TEXT datatype allows unlimited number of characters.\\

VARCHAR(30) org\_name- Name of the organization for which the hcp works for.  VARCHAR(30) datatype allows a maximum of 30 characteres.\\

TEXT address- Primary address of the hcp place of business.  TEXT datatype allows unlimited number of characters.\\ \\

\subsubsection{Appointments}
Holds all of the information for every appointment a patient makes with a hcp.  It has a total 1:N relationship with the HCP\_Account and Patient\_Account entities.\\ \\

Attributes:\\
SERIAL appointment\_id- ID to uniquely identify the appointment from other appointments. SERIAL datatype automatically creates the appointment\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.\\

SERIAL patient\_id-  Unique account ID of the patient that requests the appointment.  This is the foreign key to the Patient\_Account entity.  Cannot be NULL.\\

SERIAL hcp\_id- Unique account ID of the hcp that receives the appointment request.  This is the foreign key to the HCP\_Account entity.  Cannot be NULL.\\

TEXT descryption- Description of the appointment that the patient requests to the hcp.  TEXT datatype allows unlimited number of characters.  Cannot be NULL.\\

TIMESTAMP date\_time- Time and day of the appointment the patient requestes to the hcp.  TIMESTAMP datatype of the form YY:MM:DD HH:MM:SS.  Cannot be NULL.\\

BOOLEAN approved- Status of the appointment that the patient requests to the hcp.  BOOLEAN datatype value is either TRUE or FALSE.  By default it is FALSE.  HCP can accept the appointment and change the status to TRUE.\\ \\

\subsubsection{Medical\_Record}
Holds all of the information for every medical record a patient has on Salute.  It has a partial N:1 relationship with the Permission entity and a total 1:N relationship with the Accounts and Patient\_Account entities.\\ \\

SERIAL medical\_rec\_id- ID to uniquely identify the medical record from other medical records. SERIAL datatype automatically creates the medical\_rec\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.\\

SERIAL patient\_id- Unique account ID of the patient that owns the medical record.  This is the foreign key to the Patient\_Account entity.  Cannot be NULL.\\

SERIAL account\_id- Unique account ID of the user(patient/hcp) that uploads the medical record.  This is the foreign key to the Accounts entity.  Cannot be NULL.\\

TEXT issue-  What the medical record deals with.  TEXT datatype allows unlimited number of characters.  Cannot be NULL.\\

TEXT suplementary\_info- Any suplementary infomation that anybody (patient/hcp) would want to add to the medical record.  TEXT datatype allows unlimited number of characters.\\

TEXT file\_path- Path where the file can be found and downloaded from the server.  TEXT datatype allows unlimited number of characters.  Cannot be NULL.\\ \\

\subsubsection{Payment}
Holds all of the information for every bill that a patient receives and a hcp issues.  It has a total 1:N relationship with the Patient\_Account and HCP\_Account entities.\\ \\

SERIAL bill\_id SERIAL-  ID to uniquely identify the bill from other bills. SERIAL datatype automatically creates the bill\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.\\

SERIAL patient\_id- Unique account ID of the patient that received the bill.  This is the foreign key to the Patient\_Account entity.  Cannot be NULL.\\

SERIAL hcp\_id- Unique account ID of the hcp that issued the bill.  This is the foreign key to the HCP\_Account entity.  Cannot be NULL.\\

DECIMAL(9,2) amount- The amount due to the hcp.  DECIMAL datatype allows charge to be up to 9 digits long, with 2 digits of percision.  Cannot be NULL.\\
 
TEXT descryption- Descryption of what the bill is being issued for.  TEXT datatype allows unlimited number of characters. Cannot be NULL.\\

DATE due\_date- Date by which the bill must be paid by.  DATE datetype of the form YY:MM:DD.  Cannot be NULL.\\

BOOLEAN cleared- States wheather the bill was paid or not.  BOOLEAN datatype value is either TRUE or FALSE.  By default it is FALSE.  If patient pays the bill, its status is changed to TRUE.\\ \\

\subsubsection{Permission}
Holds information regarding which medical records a hcp that is connected with a patient can view.  It has a total 1:N relationship with the Accounts and Medical\_Records entities.\\ \\

SERIAL permission\_id-  ID to uniquely identify the permission from other permissions. SERIAL datatype automatically creates the permission\_id when a new tuple is inserted into the table.  Primary key of the table.  Cannot be NULL.\\

medical\_rec\_id- Unique ID of the medical record that a hcp can view.  This is the foreign key to the Medical\_Records entity.  Cannot be NULL.\\   

SERIAL account\_id- Unique ID of the hcp that can view the medical record.  This is a foreign key to the Accounts entity.  Cannot be NULL.\\

DATE date\_created-  Date in which the patient allowed the hcp to view the medical record.  DATE datatype is of the form YY:MM:DD.  Cannot be NULL.\\

\subsubsection{p\_d\_connection}
Holds all of the information for every connection between a patient and a hcp.  This relationship has a patial N:M relationship with the HCP\_Account and the Patient\_Account entities.\\ \\

SERIAL patient\_id- Unique account ID of the patient that establishes a connection with a hcp.  The combination of patient\_id and hcp\_id is the primary key for this table.  This is also the foreign key to the Patient\_Account entity.  Cannot be NULL.\\  

SERIAL hcp\_id- Unique account ID of the hcp that accepts the connection request sent from the patient.  The combination of hcp\_id and patient\_id is the primary key for this table.  This is also the foreign key to the HCP\_Account entity.  Cannot be NULL.\\

BOOLEAN accepted- States wheather the request was accepted by the hcp.  BOOLEAN datatype value is either TRUE or FALSE.  By default it is FALSE.  If hcp accepts the request, its status is changed to TRUE.\\

DATE date\_connected- Date in which the request was sent by the patient to the hcp.  DATE datatype is of the form YY:MM:DD.  Canot be NULL.\\

\subsubsection{d\_d\_connection}
Holds all of the information for every connection between a hcp and another hcp.  This relationship has two patial N:M relationships with the HCP\_Account entity.\\ \\

SERIAL requester\_id- Unique account ID of the hcp that establishes a connection with another hcp.  The combination of requester\_id and accepter\_id is the primary key for this table.  This is also a foreign key to the HCP\_Account entity.  Cannot be NULL.\\  

SERIAL accepter\_id- Unique account ID of the hcp that accepts the connection request sent from hcp.  The combination of accepter\_id and requester\_id is the primary key for this table.  This is also a foreign key to the HCP\_Account entity.  Cannot be NULL.\\

BOOLEAN accepted- States wheather the request was accepted by the hcp.  BOOLEAN datatype value is either TRUE or FALSE.  By default it is FALSE.  If hcp accepts the request, its status is changed to TRUE.\\

DATE date\_connected- Date in which the request was sent by the hcp to the other hcp.  DATE datatype is of the form YY:MM:DD.  Canot be NULL.\\

\subsubsection{Suplementary Database Implementation Information}
We used many scripts to create the database described above.  First of all we have a bash script called start\_everything.sh which as its name implies, starts everything.  It starts the apache server, creates a PostgreSQL database, and then it uses an sql file called create\_tables.sql to create all of the tables described in the ER diagram.  It then calls the file load\_data.sql which loads all of the tables with test data.  In case we want to drop all of the test data we have an sql file called drop.sql.  In case we wanted to delete everything and start over, we have a bash script called delete\_everything.sh.     

\subsection{MVC Design}

MVC stands for Model View Controller, and is a software architecture and an architectural pattern in software engineering. The purpose is to separate a system into parts,assigns responsibilities to each, and ensures that they can work together. This design method strives to anticipate for future changes.
[Insert Diagram here]
\paragraph{Models}
The model [explain what it does]

\paragraph{Controllers}
The controller [explain what it does]

\paragraph{Views}
The view [explain what it does]

\subsection{Interface Design}
\subsection{Server Design}

\section{Implementation View}

\section{Tests}

\subsection{Controller Tests}

\paragraph{} 
There are three types of users: non-members, patients, and health care providers. Each type have been tested individually.

A non-member should only be able to view the default home page, or register. All other functions were tested to assure that a non-member could not access any other functionalities. 

A patient is able to do the following:
\begin{itemize}
\item Login, Logout
\item Requesting a connection with a healthcare provider
\item Delete a connection with their healthcare provider
\item Viewing all, pending, or connected healthcare providers
\item Viewing their medical records
\item Make an appointment with a connected doctor
\item Cancel an appointment 
\item View all,upcoming, or past appointments
\item Change their email, or password
\item Retrieve their password if forgotten via email
\item Edit their information
\item Deactivate, reactivate their account
\item View all, current, or past bills.
\item Pay their bills (Note: This is not linked to any credit card/bank system ) 
\item Add or delete a medical record
\item View all their medical records
\item Set each medical record to hidden or public to specific healthcare providers
\end{itemize}
A health care provider is able to do the following:
\begin{itemize}
\item Login, Logout
\item Requesting a connection with a healthcare provider
\item Accept a connection request from another health care provider or patient
\item Reject a connection request from another health care provider or patient
\item Delete a connection with their patient or collegue
\item Viewing all healthcare providers
\item Viewing pending incoming requests with other healthcare providers
\item Viewing pending outgoing requests with other healthcare providers
\item Viewing connected collegues, and patients
\item Accept a requested appointment from their patients
\item Cancel an existing appointment
\item View all,upcoming, and past appointments
\item Change their email or password
\item Retrieve their password if forgotten via email
\item Edit their information
\item Deactivate, and reactivate their account
\item View all, current, or past bills.
\item Issue bills to connected patients
\item Add a medical record to a specific patient
\item Viewing their patient's medical records (the ones they are authorized to see)
\item Set each medical record to hidden or public to specific healthcare providers
\end{itemize}

\subsection{Database Tests}

\chapter{Operating Manual}
\subsection{How-to's}
\paragraph{Registration and login}
\paragraph{Viewing a user profile}
\paragraph{Connection management}

\subsection{Screen-shots}

\chapter{Credits}


\end{document}
